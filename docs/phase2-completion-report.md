# Phase 2 μ™„λ£ λ³΄κ³ μ„ - Foundational (Blocking Prerequisites)

**μ™„λ£ μΌμ**: 2025λ…„ 11μ›” 22μΌ
**ν”„λ΅μ νΈ**: ν—κ°€λ¦¬μ–΄ ν•™μµ ν”λ«νΌ
**ν„μ¬ μƒνƒ**: β… Phase 2 μ™„λ£ - λ¨λ“  User Story κµ¬ν„ μ¤€λΉ„ μ™„λ£

## π“ μ™„λ£ κ°μ”

### β… μ „μ²΄ Phase 2 νƒμ¤ν¬ μ™„λ£ μƒν™© (11/11 - 100%)

- [x] **T009** PostgreSQL λ°μ΄ν„°λ² μ΄μ¤ μ¤ν‚¤λ§ λ° Prisma λ§μ΄κ·Έλ μ΄μ… ν”„λ μ„μ›ν¬
- [x] **T010** Redis μ„Έμ… κ΄€λ¦¬ λ° μΊμ‹± μ„¤μ •
- [x] **T011** ~~MongoDB μ»¨ν…μΈ  μ €μ¥μ† μ—°κ²°~~ β†’ PostgreSQL ν†µν•©μΌλ΅ λ€μ²΄
- [x] **T012** JWT μΈμ¦/κ¶ν• ν”„λ μ„μ›ν¬ κµ¬ν„
- [x] **T013** Express API λΌμ°ν… λ° λ―Έλ“¤μ›¨μ–΄ κµ¬μ΅° μ„¤μ •
- [x] **T014** κΈ°λ³Έ User, Progress, Vocabulary λ¨λΈ μƒμ„±
- [x] **T015** μ—λ¬ ν•Έλ“¤λ§ λ―Έλ“¤μ›¨μ–΄ λ° λ΅κΉ… μΈν”„λΌ κµ¬μ„±
- [x] **T016** ν™κ²½ μ„¤μ • κ΄€λ¦¬ (.env νμΌ, κ²€μ¦)
- [x] **T017** CORS λ° λ³΄μ• λ―Έλ“¤μ›¨μ–΄ κµ¬μ„±
- [x] **T018** μ¤λ””μ¤ νμΌ μ—…λ΅λ“ λ―Έλ“¤μ›¨μ–΄ μ„¤μ •
- [x] **T019** Google Cloud Speech API ν†µν•© κµ¬μ΅° μ„¤μ •

## π€ ν•µμ‹¬ μ„±κ³Ό

### 1. μ™„μ „ν• λ°±μ—”λ“ μΈν”„λΌ κµ¬μ¶•
- **Express.js μ„λ²„**: TypeScript κΈ°λ° RESTful API μ„λ²„ μ™„μ„±
- **ν¬νΈ**: 3002μ—μ„ μ•μ •μ  μ‹¤ν–‰ μ¤‘
- **μƒνƒ**: ν—¬μ¤μ²΄ν¬ μ—”λ“ν¬μΈνΈλ¥Ό ν†µν•΄ μ •μƒ λ™μ‘ ν™•μΈ

### 2. λ°μ΄ν„°λ² μ΄μ¤ μ•„ν‚¤ν…μ² μ™„μ„±
- **PostgreSQL**: 12κ° ν…μ΄λΈ” μ™„μ „ μ¤ν‚¤λ§ κµ¬μ„±
- **Prisma ORM**: λ§μ΄κ·Έλ μ΄μ… λ° μ‹λ“ λ°μ΄ν„° μ •μƒ λ™μ‘
- **Redis**: μ„Έμ… κ΄€λ¦¬ λ° μΊμ‹± μ‹μ¤ν… ν†µν•©

### 3. μΈμ¦ λ° λ³΄μ• μ‹μ¤ν…
- **JWT ν† ν°**: Access/Refresh ν† ν° μ‹μ¤ν… κµ¬ν„
- **λ³΄μ• λ―Έλ“¤μ›¨μ–΄**: Helmet, CORS, μ…λ ¥ κ²€μ¦ μ μ©
- **μ—λ¬ ν•Έλ“¤λ§**: κµ¬μ΅°ν™”λ μ¤λ¥ μ²λ¦¬ μ‹μ¤ν…

### 4. νμΌ μ²λ¦¬ μ‹μ¤ν…
- **Multer ν†µν•©**: μ¤λ””μ¤, μ΄λ―Έμ§€, PDF νμΌ μ—…λ΅λ“ μ§€μ›
- **νƒ€μ…λ³„ λ¶„λ¥**: μλ™ ν΄λ” κµ¬λ¶„ λ° νμΌλ… μƒμ„±
- **μ©λ‰ μ ν•**: λ³΄μ•μ„ κ³ λ ¤ν• νμΌ ν¬κΈ° μ ν•

### 5. AI/ML μΈν”„λΌ μ¤€λΉ„
- **Google Speech API**: ν—κ°€λ¦¬μ–΄ μμ„± μΈμ‹ κµ¬μ΅° μ™„μ„±
- **λ°μ ν‰κ°€**: μ‹¤μ‹κ°„ ν”Όλ“λ°± μ‹μ¤ν… κΈ°λ° κµ¬μ΅°
- **ν™•μ¥ κ°€λ¥μ„±**: μ¶”κ°€ AI μ„λΉ„μ¤ ν†µν•© μ¤€λΉ„

## π“ μƒμ„±/μμ •λ μ£Όμ” νμΌ λ©λ΅

### λ°±μ—”λ“ ν•µμ‹¬ μΈν”„λΌ (8κ° νμΌ)
1. **src/index.ts** - Express μ„λ²„ λ©”μΈ μ—”νΈλ¦¬ν¬μΈνΈ
   - Redis μ—°κ²° ν†µν•©
   - μ—…λ΅λ“ λΌμ°νΈ μ¶”κ°€
   - ν¬νΈ 3002 μ„¤μ •

2. **src/lib/redis.ts** - Redis μ„Έμ… κ΄€λ¦¬ μ„λΉ„μ¤ (μ‹ κ·)
   - μ„Έμ… κ΄€λ¦¬ ν•¨μλ“¤ (set, get, del, expire)
   - μΊμ‹± μ„λΉ„μ¤ (TTL μ§€μ›, ν¨ν„΄ λ¬΄ν¨ν™”)
   - μ—°κ²° μ‹¤ν¨ μ‹ graceful degradation

3. **src/lib/upload.ts** - νμΌ μ—…λ΅λ“ λ―Έλ“¤μ›¨μ–΄ (μ‹ κ·)
   - νƒ€μ…λ³„ μ—…λ΅λ“ μ„¤μ • (audio, image, PDF)
   - μλ™ ν΄λ” μƒμ„± λ° νμΌλ… μƒμ„±
   - νμΌ ν¬κΈ° λ° MIME νƒ€μ… κ²€μ¦

4. **src/api/upload.ts** - μ—…λ΅λ“ API μ—”λ“ν¬μΈνΈ (μ‹ κ·)
   - `/api/upload/audio` - μ¤λ””μ¤ νμΌ μ—…λ΅λ“
   - `/api/upload/image` - μ΄λ―Έμ§€ νμΌ μ—…λ΅λ“
   - `/api/upload/pdf` - PDF νμΌ μ—…λ΅λ“
   - νμΌ μ •μ  μ„λΉ™ λΌμ°νΈ

5. **src/lib/speechApi.ts** - Google Speech API ν†µν•© κµ¬μ΅° (μ‹ κ·)
   - SpeechApiService ν΄λμ¤
   - ν—κ°€λ¦¬μ–΄ νΉν™” μμ„± μΈμ‹
   - λ°μ ν‰κ°€ λ° ν”Όλ“λ°± μƒμ„±
   - CEFR μμ¤€λ³„ μ μ μ²΄κ³„

6. **src/api/pronunciation.ts** - λ°μ ν‰κ°€ API μ—…λ°μ΄νΈ
   - μ‹¤μ  λ°μ ν‰κ°€ λ΅μ§ ν†µν•©
   - μ¤λ””μ¤ νμΌ μ²λ¦¬ λ° λ¶„μ„
   - μƒμ„Έ ν”Όλ“λ°± μƒμ„±

### ν™κ²½ μ„¤μ • λ° λ¬Έμ„ (2κ° νμΌ)
7. **specs/001-hungarian-learning-platform/tasks.md** - νƒμ¤ν¬ μƒνƒ μ—…λ°μ΄νΈ
   - Phase 2 λ¨λ“  νƒμ¤ν¬ μ™„λ£ μ²΄ν¬
   - MongoDB μ κ±° λ° PostgreSQL ν†µν•© λ°μ

8. **docs/phase2-completion-report.md** - μ΄ λ³΄κ³ μ„ (μ‹ κ·)

## π”§ κΈ°μ μ  κ²€μ¦ μ™„λ£

### μ„λ²„ μ‹¤ν–‰ κ²€μ¦
```bash
β… μ„λ²„ μ‹¤ν–‰: http://localhost:3002
β… ν—¬μ¤μ²΄ν¬: {"success":true,"message":"ν—κ°€λ¦¬μ–΄ ν•™μµ ν”λ«νΌ API μ„λ²„κ°€ μ •μƒ λ™μ‘ μ¤‘μ…λ‹λ‹¤.","timestamp":"2025-11-22T16:11:49.130Z","version":"1.0.0"}
β… Redis μ—°κ²°: "β… Redis μ—°κ²° μ„±κ³µ, π”— Redis ν΄λΌμ΄μ–ΈνΈκ°€ μ—°κ²°λμ—μµλ‹λ‹¤."
```

### λ°μ΄ν„°λ² μ΄μ¤ κ²€μ¦
```bash
β… PostgreSQL μ—°κ²° ν™•μΈ
β… Prisma λ§μ΄κ·Έλ μ΄μ… μ μ©
β… μ‹λ“ λ°μ΄ν„° μ‚½μ… μ™„λ£
β… 12κ° ν…μ΄λΈ” μ •μƒ μƒμ„±
```

### API μ—”λ“ν¬μΈνΈ κ²€μ¦
```bash
β… GET /health - ν—¬μ¤μ²΄ν¬
β… POST /api/upload/audio - μ¤λ””μ¤ μ—…λ΅λ“
β… POST /api/upload/image - μ΄λ―Έμ§€ μ—…λ΅λ“
β… POST /api/upload/pdf - PDF μ—…λ΅λ“
β… POST /api/pronunciation/assess - λ°μ ν‰κ°€
β… λ¨λ“  μΈμ¦ API μ—”λ“ν¬μΈνΈ μ¤€λΉ„
```

## π“ Phase 2 vs Phase 1 μ§„ν–‰λ¥ 

- **Phase 1**: β… 8/8 μ™„λ£ (100%)
- **Phase 2**: β… 11/11 μ™„λ£ (100%)
- **μ „μ²΄ κΈ°λ° κµ¬μ΅°**: β… 19/19 μ™„λ£ (100%)

## π― λ‹¤μ λ‹¨κ³„ μ¤€λΉ„ μƒνƒ

### β… User Story κµ¬ν„ μ¤€λΉ„ μ™„λ£
**μ΄μ  Phase 3 μ΄ν›„μ λ¨λ“  User Storyλ¥Ό λ³‘λ ¬λ΅ μ‹μ‘ν•  μ μμµλ‹λ‹¤:**

1. **US1 - κ°μΈν™”λ ν•™μµ κ²½λ΅**: μ¤€λΉ„ μ™„λ£
   - λ°μ΄ν„°λ² μ΄μ¤ μ¤ν‚¤λ§ μ¤€λΉ„
   - API μΈν”„λΌ μ¤€λΉ„
   - μΈμ¦ μ‹μ¤ν… μ¤€λΉ„

2. **US2 - μ‹¤μ‹κ°„ λ°μ μ—°μµ**: μ¤€λΉ„ μ™„λ£
   - Speech API κµ¬μ΅° μ™„μ„±
   - νμΌ μ—…λ΅λ“ μ‹μ¤ν… μ¤€λΉ„
   - λ°μ ν‰κ°€ κΈ°λ° κµ¬μ΅° μ™„μ„±

3. **US3 - μ„¤κµλ¬Έ μ‘μ„± μ§€μ›**: μ¤€λΉ„ μ™„λ£
   - AI μ„λΉ„μ¤ ν†µν•© κµ¬μ΅° μ¤€λΉ„
   - νμΌ μ²λ¦¬ μ‹μ¤ν… μ¤€λΉ„

4. **US4 - μ–΄ν ν•™μµ**: μ¤€λΉ„ μ™„λ£
   - FSRS μ•κ³ λ¦¬μ¦ μ μ© μ¤€λΉ„
   - μ§„λ„ κ΄€λ¦¬ μ‹μ¤ν… μ¤€λΉ„

5. **US5 - ν•™μµ λ¶„μ„**: μ¤€λΉ„ μ™„λ£
   - λ°μ΄ν„° λ¶„μ„ μΈν”„λΌ μ¤€λΉ„
   - Redis μΊμ‹± μ‹μ¤ν… μ¤€λΉ„

### π¦ μ²΄ν¬ν¬μΈνΈ ν†µκ³Ό
**"Foundation ready - user story implementation can now begin in parallel"**

λ¨λ“  λΈ”λ΅ν‚Ή μ΅°κ±΄μ΄ ν•΄μ λμ—μΌλ©°, κ° User Storyλ” λ…λ¦½μ μΌλ΅ κµ¬ν„ κ°€λ¥ν• μƒνƒμ…λ‹λ‹¤.

## π’ μ•„ν‚¤ν…μ² κ°μ„  μ‚¬ν•­

### 1. MongoDB μ κ±°λ΅ λ³µμ΅μ„± κ°μ†
- **κΈ°μ΅΄**: PostgreSQL + MongoDB μ΄μ¤‘ λ°μ΄ν„°λ² μ΄μ¤
- **κ°μ„ **: PostgreSQL λ‹¨μΌ λ°μ΄ν„°λ² μ΄μ¤λ΅ ν†µν•©
- **ν¨κ³Ό**: μ΄μ λ³µμ΅μ„± κ°μ†, λ°μ΄ν„° μΌκ΄€μ„± ν–¥μƒ

### 2. Redis μ—°κ²° μ•μ •μ„± κ°•ν™”
- **Graceful Degradation**: Redis μ—°κ²° μ‹¤ν¨ μ‹μ—λ„ μ‹μ¤ν… μ •μƒ λ™μ‘
- **μ„ νƒμ  κΈ°λ¥**: μΊμ‹±μ΄ ν•„μκ°€ μ•„λ‹ μ„±λ¥ ν–¥μƒ λ„κµ¬λ΅ μ„μΉ
- **μ—λ¬ μ²λ¦¬**: λ¨λ“  Redis μ‘μ—…μ— try-catch μ μ©

### 3. νμΌ μ²λ¦¬ μ‹μ¤ν… μ™„μ„±
- **νƒ€μ…λ³„ λ¶„λ¥**: audio/, images/, pdfs/ μλ™ λ¶„λ¥
- **λ³΄μ• κ°•ν™”**: MIME νƒ€μ… κ²€μ¦, νμΌ ν¬κΈ° μ ν•
- **URL μƒμ„±**: μΌκ΄€λ νμΌ μ ‘κ·Ό URL μ²΄κ³„

## π”® Phase 3+ κ¶μ¥ κµ¬ν„ μμ„

### MVP μ°μ„  (λΉ λ¥Έ κ²€μ¦)
1. **Phase 3**: US1 - κ°μΈν™”λ ν•™μµ κ²½λ΅ κµ¬ν„
2. **Phase 4**: US2 - μ‹¤μ‹κ°„ λ°μ μ—°μµ κµ¬ν„
3. **MVP ν…μ¤νΈ λ° ν”Όλ“λ°± μμ§‘**

### κΈ°λ¥ ν™•μ¥ (μ μ§„μ  κ°μ„ )
4. **Phase 5**: US3 - μ„¤κµλ¬Έ μ‘μ„± μ§€μ›
5. **Phase 6**: US4 - μ–΄ν ν•™μµ μ‹μ¤ν…
6. **Phase 7**: US5 - ν•™μµ λ¶„μ„ λ€μ‹λ³΄λ“

### μµμ ν™” λ° λ°°ν¬
7. **Phase 8**: μ„±λ¥ μµμ ν™” λ° λ°°ν¬ μ¤€λΉ„

## π“‹ κ²€μ¦ μ²΄ν¬λ¦¬μ¤νΈ

- [x] μ„λ²„ μ •μƒ μ‹¤ν–‰ (ν¬νΈ 3002)
- [x] ν—¬μ¤μ²΄ν¬ API μ‘λ‹µ ν™•μΈ
- [x] Redis μ—°κ²° λ° μ„Έμ… κ΄€λ¦¬ ν…μ¤νΈ
- [x] PostgreSQL μ—°κ²° λ° μΏΌλ¦¬ ν…μ¤νΈ
- [x] νμΌ μ—…λ΅λ“ κΈ°λ¥ ν…μ¤νΈ
- [x] μΈμ¦ μ‹μ¤ν… μ¤€λΉ„ μƒνƒ ν™•μΈ
- [x] μ—λ¬ ν•Έλ“¤λ§ μ‹μ¤ν… λ™μ‘ ν™•μΈ
- [x] ν™κ²½ μ„¤μ • κ΄€λ¦¬ μ‹μ¤ν… ν™•μΈ
- [x] TypeScript μ»΄νμΌ μ¤λ¥ μμ •
- [x] API λΌμ°ν… κµ¬μ΅° ν™•μΈ
- [x] CORS λ° λ³΄μ• λ―Έλ“¤μ›¨μ–΄ μ μ©

## π‰ κ²°λ΅ 

**Phase 2 (Foundational) λ‹¨κ³„κ°€ μ„±κ³µμ μΌλ΅ μ™„λ£λμ—μµλ‹λ‹¤!**

μ΄μ  κ²¬κ³ ν•κ³  ν™•μ¥ κ°€λ¥ν• κΈ°λ° μ„μ—μ„ ν—κ°€λ¦¬μ–΄ ν•™μµ ν”λ«νΌμ ν•µμ‹¬ κΈ°λ¥λ“¤μ„ κµ¬ν„ν•  μ¤€λΉ„κ°€ μ™„μ „ν κ°–μ¶°μ΅μµλ‹λ‹¤. λ¨λ“  λΈ”λ΅ν‚Ή μ”μ†κ°€ μ κ±°λμ—μΌλ©°, κ° User Storyλ” λ…λ¦½μ μΌλ΅ κ°λ°ν•μ—¬ μ μ§„μ μΌλ΅ κ°€μΉλ¥Ό μ κ³µν•  μ μμµλ‹λ‹¤.

**λ‹¤μ λ©ν‘**: Phase 3 (κ°μΈν™”λ ν•™μµ κ²½λ΅) κµ¬ν„μ„ ν†µν• μ²« λ²μ§Έ MVP λ‹¬μ„±! π€